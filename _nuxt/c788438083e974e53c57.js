(window.webpackJsonp=window.webpackJsonp||[]).push([[3,10,15],{194:function(e,t,n){"use strict";n.r(t);n(34),n(13),n(8),n(33);var r={name:"stats",props:["stats"],data:function(){return{headers:[{text:"name",value:"name"},{text:"value",value:"value"}],usCurrency:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"})}},computed:{statsArray:function(){var e=this;return Object.keys(this.stats).map((function(t){return{name:t,value:e.stats[t]}}))}},methods:{getValueColor:function(e){return e<0?"error":"success"},formatValue:function(e){var t=e.value;switch(e.name){case"sum":case"perShare":t=this.usCurrency.format(e.value)}return t}}},o=n(14),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.stats?n("v-card",{staticClass:"mb-3"},[n("v-data-table",{attrs:{headers:e.headers,items:e.statsArray,"hide-default-header":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.value",fn:function(t){var r=t.item;return[n("v-chip",{attrs:{color:e.getValueColor(r.value),dark:""}},[e._v(e._s(e.formatValue(r)))])]}}],null,!1,1888273335)})],1):e._e()}),[],!1,null,null,null);t.default=component.exports},195:function(e,t,n){"use strict";n.r(t);n(80);var r={name:"date-window",props:[],data:function(){return{dateRange:["*","*"],from:"",fromPicker:"",to:"",toPicker:""}},computed:{},methods:{handleAbsoluteDates:function(){var e=""===this.from?"*":this.from+"T00:00:00Z",t=""===this.to?"*":this.to+"T00:00:00Z";this.dateRange=[e,t],this.$emit("dates-change",this.dateRange)},handleCleanDates:function(){this.from="",this.to="",this.dateRange=["*","*"],this.$emit("dates-change",this.dateRange)},handleToday:function(){this.from=this.to=(new Date).toISOString().split("T")[0],this.handleAbsoluteDates()}}},o=n(14),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-expansion-panels",{attrs:{dense:""}},[n("v-expansion-panel",[n("v-expansion-panel-header",[e._v("Date Window")]),n("v-expansion-panel-content",[n("v-menu",{ref:"fromPicker",attrs:{"close-on-content-click":!1,"return-value":e.from,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.from=t},"update:return-value":function(t){e.from=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-text-field",e._g({staticClass:"py-0",attrs:{label:"FROM","prepend-icon":"mdi-calendar-range",readonly:""},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}},r))]}}]),model:{value:e.fromPicker,callback:function(t){e.fromPicker=t},expression:"fromPicker"}},[n("v-date-picker",{attrs:{scrollable:"",color:"green lighten-1"},on:{"click:date":function(t){return e.$refs.fromPicker.save(e.from)}},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}})],1),n("v-menu",{ref:"toPicker",attrs:{"close-on-content-click":!1,"return-value":e.to,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.to=t},"update:return-value":function(t){e.to=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-text-field",e._g({staticClass:"py-0",attrs:{label:"TO","prepend-icon":"mdi-calendar-range",readonly:""},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}},r))]}}]),model:{value:e.toPicker,callback:function(t){e.toPicker=t},expression:"toPicker"}},[n("v-date-picker",{attrs:{scrollable:"",color:"green lighten-1"},on:{"click:date":function(t){return e.$refs.toPicker.save(e.to)}},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}})],1),n("v-btn",{attrs:{dark:"",color:"success"},on:{click:e.handleAbsoluteDates}},[n("v-icon",[e._v("mdi-check")])],1),n("v-btn",{attrs:{dark:"",color:"error"},on:{click:e.handleCleanDates}},[n("v-icon",[e._v("mdi-calendar-remove")])],1),n("v-btn",{attrs:{dark:"",color:"primary"},on:{click:e.handleToday}},[n("v-icon",[e._v("mdi-calendar-today")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},198:function(e,t,n){var content=n(209);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(63).default)("6b79407e",content,!1,{sourceMap:!1})},207:function(e,t,n){"use strict";var r=n(5),o=n(26),c=n(83),l="".endsWith;r(r.P+r.F*n(84)("endsWith"),"String",{endsWith:function(e){var t=c(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=o(t.length),d=void 0===n?r:Math.min(o(n),r),m=String(e);return l?l.call(t,m,d):t.slice(d-m.length,d)===m}})},208:function(e,t,n){"use strict";var r=n(198);n.n(r).a},209:function(e,t,n){var r=n(62);(e.exports=r(!1)).push([e.i,".credit{background-color:red;color:#fff}",""])},220:function(e,t,n){"use strict";n.r(t);n(207),n(80);var r=n(35),o=n.n(r),c={baseUrl:"https://dev29983.sites.leocorn.com/solr/",get searchEndPoint(){return this.baseUrl+"credits_dev/select"},get updateEndPoint(){return this.baseUrl+"credits_dev/update/json/docs?commit=true"},getToday:function(){var e=(new Date).toLocaleString().split(", ")[0].split("/");return[e[2],e[0],e[1]].join("-")},getCurrentTime:function(){var e=(new Date).toLocaleString().split(", ")[1].split(":");return e.pop().endsWith("PM")&&(e[0]=parseInt(e[0])+12),e.join(":")},getHeaders:function(){return[{text:"Day",value:"day"},{text:"Accomplishment",value:"accomplishment"},{text:"Credit",value:"credit"}]},getAccomplishments:function(e,t){var filter='account:"'+e.$auth.user.email+'"||remove:false';filter=filter+"||_created_:["+e.dateRange.join(" TO ")+"]";var n={query:"*:*",params:{rows:e.perPage,start:e.start,sort:"_created_ desc",fq:filter.split("||"),stats:"true","stats.field":["credit"]}};o.a.post(this.searchEndPoint,n).then((function(n){e.jobs=n.data.response.docs,e.summary={"Job Count":n.data.stats.stats_fields.credit.count,"Total Credits:":n.data.stats.stats_fields.credit.sum},t&&t(n.data.respons.numFound)})).catch((function(e){console.log(e)}))},addAccomplishment:function(e,t){var n=this,r={id:Date.now(),account:e.$auth.user.email,day:e.day,accomplishment:e.accomplishment,credit:e.credit,_created_:new Date(e.day+" "+e.time+":00")};o.a.post(n.updateEndPoint,r).then((function(r){e.resetFields(),n.getAccomplishments(e),t&&t(r)})).catch((function(e){console.log(e)}))}},l=n(194),d={auth:!1,layout:"vuetify",components:{"date-window":n(195).default,stats:l.default},data:function(){return{menu:"",day:c.getToday(),menut:"",time:c.getCurrentTime(),formValid:!0,accomplishment:"",credit:1,creditRules:[function(e){return!!e||"Credit is required!"},function(e){return/^-?[0-9]*(\.\d+)?$/.test(e)||"Credit should be integer or decimal"}],headers:[{text:"Day",value:"day"},{text:"Accomplishment",value:"accomplishment"},{text:"Credit",value:"credit"}],jobs:[],summary:{"Job Count":4,"Total Credits:":23.5,"Negative Credits:":-22},start:0,perPage:15,dateRange:["*","*"]}},methods:{addAccomplishment:function(){this.$auth.loggedIn?c.addAccomplishment(this):(this.jobs.push({day:this.day,time:this.time,accomplishment:this.accomplishment,credit:this.credit}),this.resetFields())},resetFields:function(){this.accomplishment="",this.credit="",this.day=c.getToday(),this.time=c.getCurrentTime()},handleDatesChange:function(e){this.dateRange=e,this.$auth.loggedIn&&c.getAccomplishments(this)}},created:function(){this.$auth.loggedIn&&c.getAccomplishments(this)}},m=(n(208),n(14)),component=Object(m.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{"grid-list-xs":""}},[n("h2",[e._v("Add Accomplishment")]),n("v-form",{model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[n("v-row",{attrs:{align:"end"}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Accomplishment Description",required:"",rules:[function(e){return!!e||"Description is required"}]},model:{value:e.accomplishment,callback:function(t){e.accomplishment=t},expression:"accomplishment"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"3"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.day,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.day=t},"update:return-value":function(t){e.day=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-text-field",e._g({attrs:{label:"Pick the date","prepend-icon":"mdi-calendar-range",readonly:""},model:{value:e.day,callback:function(t){e.day=t},expression:"day"}},r))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-date-picker",{attrs:{scrollable:"",color:"green lighten-1"},on:{"click:date":function(t){return e.$refs.menu.save(e.day)}},model:{value:e.day,callback:function(t){e.day=t},expression:"day"}})],1)],1),n("v-col",{attrs:{cols:"3"}},[n("v-menu",{ref:"menut",attrs:{"close-on-content-click":!1,"return-value":e.time,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.time=t},"update:return-value":function(t){e.time=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-text-field",e._g({attrs:{label:"Pick the time","prepend-icon":"mdi-calendar-clock",readonly:""},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}},r))]}}]),model:{value:e.menut,callback:function(t){e.menut=t},expression:"menut"}},[n("v-time-picker",{attrs:{scrollable:"",color:"green lighten-1"},on:{"click:minute":function(t){return e.$refs.menut.save(e.time)}},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)],1),n("v-col",{attrs:{cols:"3"}},[n("v-text-field",{attrs:{label:"Credit earned",required:"",rules:e.creditRules},model:{value:e.credit,callback:function(t){e.credit=t},expression:"credit"}})],1),n("v-col",{attrs:{cols:"3"}},[n("v-btn",{attrs:{disabled:!e.formValid,color:"primary"},on:{click:e.addAccomplishment}},[e._v("Add")])],1)],1)],1),n("h2",[e._v("Accomplishments "),e.$auth.loggedIn?n("span",[e._v("for "+e._s(e.$auth.user.name))]):e._e()]),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-row",[n("v-col",{attrs:{cols:"12",md:"3"}},[n("date-window",{on:{"dates-change":e.handleDatesChange}}),n("stats",{attrs:{stats:e.summary}})],1),n("v-col",{attrs:{cols:"12",md:"9"}},[n("v-data-table",{attrs:{headers:e.headers,items:e.jobs,"item-per-page":e.perPage},scopedSlots:e._u([{key:"item.credit",fn:function(t){var r=t.item;return[n("v-chip",{attrs:{color:r.credit<0?"error":"success",dark:""}},[e._v(e._s(r.credit))])]}}])})],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);