(window.webpackJsonp=window.webpackJsonp||[]).push([[3,10,15],{194:function(t,e,n){"use strict";n.r(e);n(34),n(13),n(8),n(33);var r={name:"stats",props:["stats"],data:function(){return{headers:[{text:"name",value:"name"},{text:"value",value:"value"}],usCurrency:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"})}},computed:{statsArray:function(){var t=this;return Object.keys(this.stats).map((function(e){return{name:e,value:t.stats[e]}}))}},methods:{getValueColor:function(t){return t<0?"error":"success"},formatValue:function(t){var e=t.value;switch(t.name){case"sum":e=this.usCurrency.format(t.value)}return e}}},o=n(14),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.stats?n("v-card",{staticClass:"mb-3"},[n("v-data-table",{attrs:{headers:t.headers,items:t.statsArray,"hide-default-header":"","hide-default-footer":""},scopedSlots:t._u([{key:"item.value",fn:function(e){var r=e.item;return[n("v-chip",{attrs:{color:t.getValueColor(r.value),dark:""}},[t._v(t._s(t.formatValue(r)))])]}}],null,!1,1888273335)})],1):t._e()}),[],!1,null,null,null);e.default=component.exports},195:function(t,e,n){"use strict";n.r(e);n(80);var r={name:"date-window",props:[],data:function(){return{dateRange:["*","*"],from:"",fromPicker:"",to:"",toPicker:""}},computed:{},methods:{handleAbsoluteDates:function(){var t=""===this.from?"*":this.from+"T00:00:00Z",e=""===this.to?"*":this.to+"T00:00:00Z";this.dateRange=[t,e],this.$emit("dates-change",this.dateRange)},handleCleanDates:function(){this.from="",this.to="",this.dateRange=["*","*"],this.$emit("dates-change",this.dateRange)},handleToday:function(){this.from=this.to=(new Date).toISOString().split("T")[0],this.handleAbsoluteDates()}}},o=n(14),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-expansion-panels",{attrs:{dense:""}},[n("v-expansion-panel",[n("v-expansion-panel-header",[t._v("Date Window")]),n("v-expansion-panel-content",[n("v-menu",{ref:"fromPicker",attrs:{"close-on-content-click":!1,"return-value":t.from,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.from=e},"update:return-value":function(e){t.from=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g({staticClass:"py-0",attrs:{label:"FROM","prepend-icon":"mdi-calendar-range",readonly:""},model:{value:t.from,callback:function(e){t.from=e},expression:"from"}},r))]}}]),model:{value:t.fromPicker,callback:function(e){t.fromPicker=e},expression:"fromPicker"}},[n("v-date-picker",{attrs:{scrollable:"",color:"green lighten-1"},on:{"click:date":function(e){return t.$refs.fromPicker.save(t.from)}},model:{value:t.from,callback:function(e){t.from=e},expression:"from"}})],1),n("v-menu",{ref:"toPicker",attrs:{"close-on-content-click":!1,"return-value":t.to,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.to=e},"update:return-value":function(e){t.to=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g({staticClass:"py-0",attrs:{label:"TO","prepend-icon":"mdi-calendar-range",readonly:""},model:{value:t.to,callback:function(e){t.to=e},expression:"to"}},r))]}}]),model:{value:t.toPicker,callback:function(e){t.toPicker=e},expression:"toPicker"}},[n("v-date-picker",{attrs:{scrollable:"",color:"green lighten-1"},on:{"click:date":function(e){return t.$refs.toPicker.save(t.to)}},model:{value:t.to,callback:function(e){t.to=e},expression:"to"}})],1),n("v-btn",{attrs:{dark:"",color:"success"},on:{click:t.handleAbsoluteDates}},[n("v-icon",[t._v("mdi-check")])],1),n("v-btn",{attrs:{dark:"",color:"error"},on:{click:t.handleCleanDates}},[n("v-icon",[t._v("mdi-calendar-remove")])],1),n("v-btn",{attrs:{dark:"",color:"primary"},on:{click:t.handleToday}},[n("v-icon",[t._v("mdi-calendar-today")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},198:function(t,e,n){var content=n(209);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(63).default)("6b79407e",content,!1,{sourceMap:!1})},207:function(t,e,n){"use strict";var r=n(5),o=n(26),c=n(83),l="".endsWith;r(r.P+r.F*n(84)("endsWith"),"String",{endsWith:function(t){var e=c(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=o(e.length),d=void 0===n?r:Math.min(o(n),r),m=String(t);return l?l.call(e,m,d):e.slice(d-m.length,d)===m}})},208:function(t,e,n){"use strict";var r=n(198);n.n(r).a},209:function(t,e,n){var r=n(62);(t.exports=r(!1)).push([t.i,".credit{background-color:red;color:#fff}",""])},220:function(t,e,n){"use strict";n.r(e);n(207),n(80);var r=n(35),o=n.n(r),c={baseUrl:"https://dev29983.sites.leocorn.com/solr/",get searchEndPoint(){return this.baseUrl+"credits_dev/select"},get updateEndPoint(){return this.baseUrl+"credits_dev/update/json/docs?commit=true"},getToday:function(){var t=(new Date).toLocaleString().split(", ")[0].split("/");return[t[2],t[0],t[1]].join("-")},getCurrentTime:function(){var t=(new Date).toLocaleString().split(", ")[1].split(":");return t.pop().endsWith("PM")&&(t[0]=parseInt(t[0])+12),t.join(":")},getHeaders:function(){return[{text:"Day",value:"day"},{text:"Accomplishment",value:"accomplishment"},{text:"Credit",value:"credit"}]},getAccomplishments:function(t,e){var filter='account:"'+t.$auth.user.email+'"||remove:false';filter=filter+"||_created_:["+t.dateRange.join(" TO ")+"]";var n={query:"*:*",params:{rows:t.perPage,start:t.start,sort:"_created_ desc",fq:filter.split("||"),stats:"true","stats.field":["credit"]}};o.a.post(this.searchEndPoint,n).then((function(n){t.jobs=n.data.response.docs,t.summary={"Job Count":n.data.stats.stats_fields.credit.count,"Total Credits:":n.data.stats.stats_fields.credit.sum},e&&e(n.data.respons.numFound)})).catch((function(t){console.log(t)}))},addAccomplishment:function(t,e){var n=this,r={id:Date.now(),account:t.$auth.user.email,day:t.day,accomplishment:t.accomplishment,credit:t.credit,_created_:new Date(t.day+" "+t.time+":00")};o.a.post(n.updateEndPoint,r).then((function(r){t.resetFields(),n.getAccomplishments(t),e&&e(r)})).catch((function(t){console.log(t)}))}},l=n(194),d={auth:!1,layout:"vuetify",components:{"date-window":n(195).default,stats:l.default},data:function(){return{menu:"",day:c.getToday(),menut:"",time:c.getCurrentTime(),formValid:!0,accomplishment:"",credit:1,creditRules:[function(t){return!!t||"Credit is required!"},function(t){return/^-?[0-9]*(\.\d+)?$/.test(t)||"Credit should be integer or decimal"}],headers:[{text:"Day",value:"day"},{text:"Accomplishment",value:"accomplishment"},{text:"Credit",value:"credit"}],jobs:[],summary:{"Job Count":4,"Total Credits:":23.5,"Negative Credits:":-22},start:0,perPage:15,dateRange:["*","*"]}},methods:{addAccomplishment:function(){this.$auth.loggedIn?c.addAccomplishment(this):(this.jobs.push({day:this.day,time:this.time,accomplishment:this.accomplishment,credit:this.credit}),this.resetFields())},resetFields:function(){this.accomplishment="",this.credit="",this.day=c.getToday(),this.time=c.getCurrentTime()},handleDatesChange:function(t){this.dateRange=t,this.$auth.loggedIn&&c.getAccomplishments(this)}},created:function(){this.$auth.loggedIn&&c.getAccomplishments(this)}},m=(n(208),n(14)),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"grid-list-xs":""}},[n("h2",[t._v("Add Accomplishment")]),n("v-form",{model:{value:t.formValid,callback:function(e){t.formValid=e},expression:"formValid"}},[n("v-row",{attrs:{align:"end"}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Accomplishment Description",required:"",rules:[function(t){return!!t||"Description is required"}]},model:{value:t.accomplishment,callback:function(e){t.accomplishment=e},expression:"accomplishment"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"3"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.day,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.day=e},"update:return-value":function(e){t.day=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g({attrs:{label:"Pick the date","prepend-icon":"mdi-calendar-range",readonly:""},model:{value:t.day,callback:function(e){t.day=e},expression:"day"}},r))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-date-picker",{attrs:{scrollable:"",color:"green lighten-1"},on:{"click:date":function(e){return t.$refs.menu.save(t.day)}},model:{value:t.day,callback:function(e){t.day=e},expression:"day"}})],1)],1),n("v-col",{attrs:{cols:"3"}},[n("v-menu",{ref:"menut",attrs:{"close-on-content-click":!1,"return-value":t.time,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.time=e},"update:return-value":function(e){t.time=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g({attrs:{label:"Pick the time","prepend-icon":"mdi-calendar-clock",readonly:""},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}},r))]}}]),model:{value:t.menut,callback:function(e){t.menut=e},expression:"menut"}},[n("v-time-picker",{attrs:{scrollable:"",color:"green lighten-1"},on:{"click:minute":function(e){return t.$refs.menut.save(t.time)}},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)],1),n("v-col",{attrs:{cols:"3"}},[n("v-text-field",{attrs:{label:"Credit earned",required:"",rules:t.creditRules},model:{value:t.credit,callback:function(e){t.credit=e},expression:"credit"}})],1),n("v-col",{attrs:{cols:"3"}},[n("v-btn",{attrs:{disabled:!t.formValid,color:"primary"},on:{click:t.addAccomplishment}},[t._v("Add")])],1)],1)],1),n("h2",[t._v("Accomplishments "),t.$auth.loggedIn?n("span",[t._v("for "+t._s(t.$auth.user.name))]):t._e()]),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-row",[n("v-col",{attrs:{cols:"12",md:"3"}},[n("date-window",{on:{"dates-change":t.handleDatesChange}}),n("stats",{attrs:{stats:t.summary}})],1),n("v-col",{attrs:{cols:"12",md:"9"}},[n("v-data-table",{attrs:{headers:t.headers,items:t.jobs,"item-per-page":t.perPage},scopedSlots:t._u([{key:"item.credit",fn:function(e){var r=e.item;return[n("div",[t._v(t._s(r.credit))])]}}])})],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);